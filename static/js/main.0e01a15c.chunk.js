(this["webpackJsonpcorona-viewer"]=this["webpackJsonpcorona-viewer"]||[]).push([[0],{201:function(e,a,t){e.exports=t(406)},206:function(e,a,t){},207:function(e,a,t){},406:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(36),l=t.n(c),s=(t(206),t(16)),i=t(17),o=t(20),m=t(19),d=t(69),u=(t(207),t(48)),h=t.n(u),p=t(70),E=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a.nav,{className:"navbar",role:"navigation","aria-label":"main navigation",initial:{opacity:0,y:-250},animate:{opacity:1,y:0},transition:{duration:.5}},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("span",{className:"navbar-item"},r.a.createElement("a",null,r.a.createElement("h3",{id:"tool-title"},r.a.createElement("span",{role:"img","aria-label":"img"},"\ud83e\uddec")," COVID-19 Tracker (WIP)"))),r.a.createElement("a",{role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),r.a.createElement("div",{className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},r.a.createElement("a",{id:"more-dropdown",className:"navbar-link"},r.a.createElement("p",{id:"navbar-link"},"More")),r.a.createElement("div",{className:"navbar-dropdown"},r.a.createElement("a",{href:"https://github.com/Katert/covid19-tracker",target:"_blank",rel:"noopener noreferrer",className:"navbar-item"},"Project repo (Github)"),r.a.createElement("hr",{className:"navbar-divider"}),r.a.createElement(d.b,{to:"/report-issue",className:"navbar-item"},"Report an issue (coming soon)"))))))}}]),t}(n.Component),v=function(e){return r.a.createElement(p.a.div,{className:!0===e.isActive?"modal is-active":"modal",initial:{opacity:-5},animate:{opacity:1},transition:{duration:2}},r.a.createElement("div",{className:"modal-background"}),r.a.createElement("div",{className:"modal-card"},r.a.createElement("header",{className:"modal-card-head"},r.a.createElement("p",{className:"modal-card-title"},e.name),r.a.createElement("br",null)),r.a.createElement("section",{className:"modal-card-body"},r.a.createElement("img",{className:"flag-image",src:e.flag,alt:""}),r.a.createElement("br",null),r.a.createElement("div",{className:"table-container"},r.a.createElement("table",{className:"table is-fullwidth"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Total cases:"),r.a.createElement("td",null,e.totalCases)),r.a.createElement("tr",null,r.a.createElement("th",null,"Active cases:"),r.a.createElement("td",null,e.active)),r.a.createElement("tr",null,r.a.createElement("th",null,"Cases registered today:"),r.a.createElement("td",null,e.todayCases)),r.a.createElement("tr",null,r.a.createElement("th",null,"Total recovered:"),r.a.createElement("td",null,e.recovered)),r.a.createElement("tr",null,r.a.createElement("th",null,"Total deaths:"),r.a.createElement("td",null,e.deaths)),r.a.createElement("tr",null,r.a.createElement("th",null,"Deaths registered today:"),r.a.createElement("td",null,e.todayDeaths)),r.a.createElement("tr",null,r.a.createElement("th",null,"Critical cases:"),r.a.createElement("td",null,e.critical)),r.a.createElement("tr",null,r.a.createElement("th",null,"Tests taken:"),r.a.createElement("td",null,e.tests)))))),r.a.createElement("footer",{className:"modal-card-foot"},r.a.createElement("button",{className:"button"},"Close"))))},f=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={isActive:!1},n}return Object(i.a)(t,[{key:"setActive",value:function(){this.setState((function(e){return{isActive:!e.isActive}}))}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{onClick:function(){return e.setActive()},className:"list-item"},r.a.createElement(v,{isActive:this.state.isActive,name:this.props.name,flag:this.props.flag,cases:this.props.cases,totalCases:this.props.totalCases,todayCases:this.props.todayCases,deaths:this.props.deaths,todayDeaths:this.props.todayDeaths,recovered:this.props.recovered,active:this.props.active,critical:this.props.critical,tests:this.props.tests}),r.a.createElement("a",{href:"#",className:"panel-block"},r.a.createElement("span",{className:"panel-icon"},r.a.createElement("img",{src:this.props.flag,alt:""})),r.a.createElement("div",null,r.a.createElement("strong",null,this.props.name,":"),r.a.createElement("div",{className:"cases"},this.props.cases))))}}]),t}(n.Component),y=function(e){var a,t=e.data;return"totalCases"===e.modifier?a=t.map((function(e,a){return r.a.createElement(f,{key:a,id:e.countryInfo._id,flag:e.countryInfo.flag,name:e.country,totalCases:e.cases,cases:e.cases,todayCases:e.todayCases,deaths:e.deaths,todayDeaths:e.todayDeaths,recovered:e.recovered,active:e.active,critical:e.critical,tests:e.tests,lat:e.countryInfo.lat,long:e.countryInfo.long})})):"recovered"===e.modifier?a=t.map((function(e,a){return r.a.createElement(f,{key:a,id:e.countryInfo._id,flag:e.countryInfo.flag,name:e.country,totalCases:e.cases,cases:e.recovered,todayCases:e.todayCases,deaths:e.deaths,todayDeaths:e.todayDeaths,recovered:e.recovered,active:e.active,critical:e.critical,tests:e.tests,lat:e.countryInfo.lat,long:e.countryInfo.long})})):"deaths"===e.modifier&&(a=t.map((function(e,a){return r.a.createElement(f,{key:a,id:e.countryInfo._id,flag:e.countryInfo.flag,name:e.country,totalCases:e.cases,cases:e.deaths,todayCases:e.todayCases,deaths:e.deaths,todayDeaths:e.todayDeaths,recovered:e.recovered,active:e.active,critical:e.critical,tests:e.tests,lat:e.countryInfo.lat,long:e.countryInfo.long})}))),r.a.createElement("ul",{className:"list"},a)},b=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(s.a)(this,t),(e=a.call(this)).setActiveCategory=function(a){e.setState({activeLink:a})},e.state={activeLink:"totalCases"},e}return Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"search-panel"},r.a.createElement("p",{className:"panel-tabs"},r.a.createElement("a",{className:"totalCases"===this.state.activeLink?"is-active":"",onClick:function(){return e.setActiveCategory("totalCases")}},"Total cases"),r.a.createElement("a",{className:"recovered"===this.state.activeLink?"is-active":"",onClick:function(){return e.setActiveCategory("recovered")}},"Cured"),r.a.createElement("a",{className:"deaths"===this.state.activeLink?"is-active":"",onClick:function(){return e.setActiveCategory("deaths")}},"Deaths")),r.a.createElement("div",{className:"panel-block"},r.a.createElement("p",{className:"control has-icons-left"},r.a.createElement("input",{className:"input is-dark",type:"text",placeholder:"Country name",onChange:this.props.handleInput}),r.a.createElement("span",{className:"icon is-left"},r.a.createElement("i",{className:"fas fa-search","aria-hidden":"true"})))),r.a.createElement("div",{className:"countries-list"},r.a.createElement(y,{modifier:this.state.activeLink,data:this.props.data})))}}]),t}(n.Component),g=t(411),N=t(412),C=t(410),k=t(413),j=function(e){return r.a.createElement("article",{className:"panel is-black"},r.a.createElement("p",{className:"panel-heading"},"Map"),r.a.createElement("div",{className:"panel-block"},r.a.createElement(g.a,{center:[26.53448,13.662376],zoom:2,minZoom:2},r.a.createElement(N.a,{url:"https://{s}.tile.jawg.io/jawg-dark/{z}/{x}/{y}{r}.png?access-token=Er9ofBREDSyyRYhMr443VkEcBwTP2bRNipwAA4TQMBmiSxuz5mkd9hV7fg7KSEIr"}),e.data.map((function(e,a){return r.a.createElement(C.a,{className:"pulse",key:a,center:[e.countryInfo.lat,e.countryInfo.long],color:"rgb(231, 147, 38)",radius:e.active/1.5},r.a.createElement(k.a,null,r.a.createElement("u",null,e.country),r.a.createElement("br",null),"Active cases: ",e.active))})))))},O=t(47),I=t(29),D=function(e){for(var a=Object(n.useState)("activeCases"),t=Object(O.a)(a,2),c=t[0],l=t[1],s=e.graphData,i=[],o=0;o<1e3;o++)i.push({date:Object.keys(s.cases)[o],cases:Object.values(s.cases)[o]});return r.a.createElement("div",{id:"graph-block"},r.a.createElement("article",{className:"panel is-black"},r.a.createElement("p",{className:"panel-heading"},"Graph"),r.a.createElement("p",{className:"panel-tabs"},r.a.createElement("a",{className:"activeCases"===c?"is-active":"",onClick:function(){return l("activeCases")}},"Confirmed"),r.a.createElement("a",{className:"recovered"===c?"is-active":"",onClick:function(){return l("recovered")}},"Cured"),r.a.createElement("a",{className:"deaths"===c?"is-active":"",onClick:function(){return l("deaths")}},"Deaths")),r.a.createElement("div",{className:"panel-block"},r.a.createElement("p",{className:"control has-icons-left"},r.a.createElement("input",{className:"input is-dark is-small",type:"text",placeholder:"Search"}),r.a.createElement("span",{className:"icon is-left"},r.a.createElement("i",{className:"fas fa-search","aria-hidden":"true"})))),r.a.createElement("div",{className:"panel-block"}),r.a.createElement("div",{className:"panel-block"},r.a.createElement(I.c,{width:"100%",aspect:2.1},r.a.createElement(I.b,{className:"graph",data:i},r.a.createElement(I.a,{dataKey:"cases",stroke:"rgb(231, 147, 38)"}),r.a.createElement(I.e,{dataKey:"date"}),r.a.createElement(I.f,null),r.a.createElement(I.d,null))))))};t(51),t(102);var w=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{id:"main-footer",initial:{opacity:0},animate:{opacity:1},transition:{duration:2}},r.a.createElement("div",{className:"content has-text-centered"},r.a.createElement("p",null,r.a.createElement("a",{href:"https://bulma.io"},r.a.createElement("img",{src:"https://bulma.io/images/made-with-bulma.png",alt:"Made with Bulma",width:"128",height:"24"})))))}}]),t}(n.Component),A=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(s.a)(this,t),(e=a.call(this)).handleInput=function(a){e.setState({searchCountry:a.target.value})},e.state={countries:[],graphData:{cases:[]},searchCountry:""},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=h.a.get("https://corona.lmao.ninja/v2/countries?yesterday&sort"),t=h.a.get("https://corona.lmao.ninja/v2/historical/all");h.a.all([a,t]).then(h.a.spread((function(){var a=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];e.setState({countries:a.data,graphData:t.data})}))).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;console.log("hi");var a=this.state.countries.filter((function(a){return a.country.toLowerCase().includes(e.state.searchCountry.toLowerCase())}));return r.a.createElement(d.a,null,r.a.createElement(E,null),r.a.createElement("div",{className:"app"},r.a.createElement("div",{id:"tiles",className:"tile is-ancestor"},r.a.createElement("div",{id:"search-tool",className:"tile is-4 is-vertical is-parent"},r.a.createElement("article",{id:"panel-tile",className:"tile is-child box",initial:{opacity:0},animate:{opacity:1},transition:{duration:1}},r.a.createElement("article",{id:"search-panel",className:"panel is-black"},r.a.createElement("p",{className:"panel-heading"},"Search"),r.a.createElement(b,{handleInput:this.handleInput,data:a})))),r.a.createElement("div",{className:"tile is-parent is-vertical"},r.a.createElement("article",{className:"mapviewer tile is-child box",initial:{opacity:0},animate:{opacity:1},transition:{duration:1}},r.a.createElement(j,{data:this.state.countries})),r.a.createElement("article",{id:"graph-container",className:"tile is-child box",initial:{opacity:0},animate:{opacity:1},transition:{duration:1}},r.a.createElement(D,{graphData:this.state.graphData})))),r.a.createElement(w,null)))}}]),t}(n.Component);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root"))}},[[201,1,2]]]);
//# sourceMappingURL=main.0e01a15c.chunk.js.map